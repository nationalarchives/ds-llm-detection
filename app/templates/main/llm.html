{% extends 'base.html' %}

{%- from 'components/button/macro.html' import tnaButton -%}
{%- from 'components/textarea/macro.html' import tnaTextarea -%}

{%- set pageTitle = 'LLM Detection' -%}

{% block content %}
<div class="tna-container tna-!--padding-top-l">
  <div class="tna-column tna-column--width-2-3 tna-column--width-5-6-medium tna-column--full-small tna-column--full-tiny">
    <h1 class="tna-heading-xl">{{ pageTitle }}</h1>
    <p class="tna-large-paragraph">Give a score for how likely the input text is to have been generated by a large language model (LLM).</p>
  </div>
</div>
<div class="tna-container">
  <form action="{{ url_for('main.detect_llm') }}" method="post" class="tna-column tna-column--width-2-3 tna-column--full-small tna-column--full-tiny tna-!--margin-top-l">
    {{ tnaTextarea({
      'label': 'Enter the text to analyse',
      'headingLevel': 2,
      'headingSize': 'm',
      'id': 'input_text',
      'name': 'input_text',
      'hint': 'The longer the text, the more accurate the result is likely to be.',
      'value': input_text if input_text else '',
      'rows': 10
    }) }}
    <div class="tna-button-group">
      {{ tnaButton({
        'text': 'Analyze text',
        'buttonElement': True,
        'buttonType': 'submit'
      }) }}
    </div>
  </form>
  {%- if score -%}
  <div class="tna-column tna-column--width-1-4 tna-column--margin-left-1-12 tna-column--width-1-3-medium tna-column--no-margin-left-medium tna-column--width-1-2-small tna-column--margin-left-1-4-small tna-column--full-tiny tna-column--no-margin-left-tiny tna-!--margin-top-l">
    <div class="llm-score llm-score--{{ 'high' if score >= 75 else 'medium' if score >= 50 else 'low' if score >= 25 else 'very-low' }} tna-background-accent-light">
      <h2 class="tna-heading-s llm-score__heading">Estimated AI usage</h2>
      <p class="llm-score__percetage tna-!--no-margin-top tna-!--padding-bottom-s">{{ score }}%</p>
    </div>
  </div>
  {%- endif -%}
</div>
{% endblock %}
