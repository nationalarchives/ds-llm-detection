{% extends 'base.html' %}

{%- from 'components/button/macro.html' import tnaButton -%}
{%- from 'components/textarea/macro.html' import tnaTextarea -%}
{%- from 'components/warning/macro.html' import tnaWarning -%}

{%- set pageTitle = 'LLM Detection' -%}

{% block content %}
<div class="tna-container tna-!--padding-top-l">
  <div class="tna-column tna-column--width-2-3 tna-column--width-5-6-medium tna-column--full-small tna-column--full-tiny">
    <h1 class="tna-heading-xl">{{ pageTitle }}</h1>
    <p class="tna-scene-setter">Give a score for how likely the input text is to have been generated by a large language model (LLM).</p>
  </div>
</div>
<div class="tna-container">
  {%- if score %}
  <div class="tna-column tna-column--width-2-3 tna-column--width-5-6-medium tna-column--full-small tna-column--full-tiny tna-!--margin-top-l">
    {{ tnaWarning({
      'headingLevel': 2,
      'body': 'Do not use this score as the sole means for making important decisions about the authenticity of the text. Consider using additional methods and context to make a more informed judgment.'
    }) }}
  </div>
  {%- endif -%}
</div>
<div class="tna-container">
  {%- if score != None -%}
  <div class="tna-column tna-column--width-1-3 tna-column--full-small tna-column--full-tiny tna-!--margin-top-l tna-column--align-centre tna-column--order-3 tna-column--order-1-small tna-column--order-1-tiny">
    <div class="llm-score llm-score--{{ 'high' if score >= 75 else 'medium' if score >= 50 else 'low' if score >= 25 else 'very-low' }} tna-background-accent-light">
      <h2 class="tna-heading-s llm-score__heading">Estimated AI usage</h2>
      <p class="llm-score__percetage tna-!--no-margin-top tna-!--padding-bottom-xs">{{ score }}%</p>
    </div>
  </div>
  {%- endif -%}
  <form action="{{ url_for('main.detect_llm') }}" method="post" class="tna-column tna-column--width-2-3 tna-column--full-small tna-column--full-tiny tna-!--margin-top-l tna-column--order-2">
    {{ tnaTextarea({
      'label': 'Enter the text to analyse',
      'headingLevel': 2,
      'headingSize': 'm',
      'id': 'input_text',
      'name': 'input_text',
      'hint': 'Longer text will produce a more accurate result',
      'value': input_text if input_text else '',
      'rows': 15
    }) }}
    <div class="tna-button-group">
      {{ tnaButton({
        'text': 'Analyze text',
        'buttonElement': True,
        'buttonType': 'submit'
      }) }}
    </div>
  </form>
</div>
<div class="tna-section tna-background-tint tna-!--margin-top-xl">
  <div class="tna-container">
    <div class="tna-column tna-column--width-2-3 tna-column--width-5-6-medium tna-column--full-small tna-column--full-tiny">
      <h2 class="tna-heading-m">About this tool</h2>
      <p>This tool uses the <a href="https://huggingface.co/desklib/ai-text-detector-v1.01">AI Text Detector v1.01 model</a> to analyze the input text and provide a score indicating the likelihood of it being generated by a large language model (LLM). The score ranges from 0% (probably human-written) to 100% (probably AI-generated).</p>
      <blockquote class="tna-blockquote" cite="https://huggingface.co/desklib/ai-text-detector-v1.01">
        <p>This AI-generated text detection model, developed by Desklib, is designed to classify English text as either human-written or AI-generated. It currently leads the <a href="https://raid-bench.xyz/leaderboard?domain=all&decoding=all&repetition=all&attack=all">RAID Benchmark for AI Detection</a>.</p>
        <p>This model is a fine-tuned version of <a href="https://huggingface.co/microsoft/deberta-v3-large">microsoft/deberta-v3-large</a>, leveraging a transformer-based architecture to achieve high accuracy. It is robust and handles various adversarial attacks across different domains remarkably well. This model is particularly useful for applications in content moderation, academic integrity, journalism, and anywhere the authenticity of text is paramount.</p>
        <footer class="tna-blockquote__citation"><a href="https://desklib.com/">Desklib</a>, model author</footer>
      </blockquote>
    </div>
  </div>
</div>
{% endblock %}
